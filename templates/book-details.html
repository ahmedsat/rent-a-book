{{ template "header.html" .}}
<div class="container d-flex align-items-center flex-column"
     style="min-height:100vh;justify-content: space-evenly;">
  <h2>Book details for <strong><em>{{.book.Title}}</em></strong></h2>
  <div class="row mb-3 text-center">
    <div class="col-6 col-sm-4 themed-grid-col">Title : {{.book.Title}}</div>
    <div class="col-6 col-sm-4 themed-grid-col">Writer :{{.book.Writer}}</div>
    <div class="col-6 col-sm-4 themed-grid-col">Publisher : {{.book.Publisher}}</div>
    <div class="col-6 col-sm-4 themed-grid-col">Year : {{.book.Year}}</div>
    <div class="col-6 col-sm-4 themed-grid-col">Location : {{.book.Location}}</div>
    <div class="col-6 col-sm-4 themed-grid-col">Count : {{.bookItemsCount}}</div>
    <div class="col-6 col-sm-4 themed-grid-col">Rented : {{.rentedBooksCount}}</div>
    <a class="col-6 col-sm-4 themed-grid-col btn btn-success"
       href="/bookItem/add/{{.book.ID}}">ADD New Item</a>
    <a class="col-6 col-sm-4 themed-grid-col btn btn-danger"
       href="/book/delete/{{.book.ID}}">DELETE BOOK</a>
  </div>

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">Item id</th>
        <th scope="col">Is rented</th>
        <th scope="col">delete</th>

      </tr>
    </thead>
    <tbody>
      {{ range .book.BookItems }}
      <tr>
        <th scope="row">{{.ID}}</th>
        <td>
          {{ if .RentedAt.Valid }}
          <span style="color: red;">
            rented
          </span>
          {{else}}
          <span style="color: green;">
            not rented
          </span>
          {{end}}
        </td>

        <td>
          <a href="/bookItem/delete/{{.ID}}"
             class="text-danger"><svg xmlns="http://www.w3.org/2000/svg"
                 width="16"
                 height="16"
                 fill="currentColor"
                 class="bi bi-trash-fill"
                 viewBox="0 0 16 16">
              <path
                    d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />
            </svg></a>
        </td>

        {{ end }}
    </tbody>
  </table>


</div>
{{.books}}
{{ template "footer.html" }}